{"job":{"components":{"1238688":{"id":1238688,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"CONDITIONAL","executionHint":"FLOW","implementationID":-1357378929,"x":290,"y":1,"width":32,"height":32,"inputConnectorIDs":[1238692],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[1238693],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"If 0"}}}},"visible":true},"2":{"slot":2,"name":"Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Simple"}}}},"visible":true},"3":{"slot":3,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"sf_access_token"},"2":{"slot":2,"type":"STRING","value":"Not"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"--some default--"}}}},"visible":true},"4":{"slot":4,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"5":{"slot":5,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1238689":{"id":1238689,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1121667926,"x":428,"y":-6,"width":32,"height":32,"inputConnectorIDs":[1238693],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Salesforce Query 0"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"3":{"slot":3,"name":"Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Kalyan SF Empty"}}}},"visible":true},"6":{"slot":6,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Account"}}}},"visible":false},"7":{"slot":7,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"IsDeleted"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"MasterRecordId"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"Name"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Type"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"ParentId"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"BillingStreet"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"BillingCity"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"BillingState"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"BillingPostalCode"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"BillingCountry"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"BillingLatitude"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"BillingLongitude"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"BillingGeocodeAccuracy"}}},"15":{"slot":15,"values":{"1":{"slot":1,"type":"STRING","value":"ShippingStreet"}}},"16":{"slot":16,"values":{"1":{"slot":1,"type":"STRING","value":"ShippingCity"}}},"17":{"slot":17,"values":{"1":{"slot":1,"type":"STRING","value":"ShippingState"}}},"18":{"slot":18,"values":{"1":{"slot":1,"type":"STRING","value":"ShippingPostalCode"}}},"19":{"slot":19,"values":{"1":{"slot":1,"type":"STRING","value":"ShippingCountry"}}},"20":{"slot":20,"values":{"1":{"slot":1,"type":"STRING","value":"ShippingLatitude"}}},"21":{"slot":21,"values":{"1":{"slot":1,"type":"STRING","value":"ShippingLongitude"}}},"22":{"slot":22,"values":{"1":{"slot":1,"type":"STRING","value":"ShippingGeocodeAccuracy"}}},"23":{"slot":23,"values":{"1":{"slot":1,"type":"STRING","value":"Phone"}}},"24":{"slot":24,"values":{"1":{"slot":1,"type":"STRING","value":"Fax"}}},"25":{"slot":25,"values":{"1":{"slot":1,"type":"STRING","value":"AccountNumber"}}},"26":{"slot":26,"values":{"1":{"slot":1,"type":"STRING","value":"Website"}}},"27":{"slot":27,"values":{"1":{"slot":1,"type":"STRING","value":"PhotoUrl"}}},"28":{"slot":28,"values":{"1":{"slot":1,"type":"STRING","value":"Sic"}}},"29":{"slot":29,"values":{"1":{"slot":1,"type":"STRING","value":"Industry"}}},"30":{"slot":30,"values":{"1":{"slot":1,"type":"STRING","value":"AnnualRevenue"}}},"31":{"slot":31,"values":{"1":{"slot":1,"type":"STRING","value":"NumberOfEmployees"}}},"32":{"slot":32,"values":{"1":{"slot":1,"type":"STRING","value":"Ownership"}}},"33":{"slot":33,"values":{"1":{"slot":1,"type":"STRING","value":"TickerSymbol"}}},"34":{"slot":34,"values":{"1":{"slot":1,"type":"STRING","value":"Description"}}},"35":{"slot":35,"values":{"1":{"slot":1,"type":"STRING","value":"Rating"}}},"36":{"slot":36,"values":{"1":{"slot":1,"type":"STRING","value":"Site"}}},"37":{"slot":37,"values":{"1":{"slot":1,"type":"STRING","value":"OwnerId"}}},"38":{"slot":38,"values":{"1":{"slot":1,"type":"STRING","value":"CreatedDate"}}},"39":{"slot":39,"values":{"1":{"slot":1,"type":"STRING","value":"CreatedById"}}},"40":{"slot":40,"values":{"1":{"slot":1,"type":"STRING","value":"LastModifiedDate"}}},"41":{"slot":41,"values":{"1":{"slot":1,"type":"STRING","value":"LastModifiedById"}}},"42":{"slot":42,"values":{"1":{"slot":1,"type":"STRING","value":"SystemModstamp"}}},"43":{"slot":43,"values":{"1":{"slot":1,"type":"STRING","value":"LastActivityDate"}}},"44":{"slot":44,"values":{"1":{"slot":1,"type":"STRING","value":"LastViewedDate"}}},"45":{"slot":45,"values":{"1":{"slot":1,"type":"STRING","value":"LastReferencedDate"}}},"46":{"slot":46,"values":{"1":{"slot":1,"type":"STRING","value":"Jigsaw"}}},"47":{"slot":47,"values":{"1":{"slot":1,"type":"STRING","value":"JigsawCompanyId"}}},"48":{"slot":48,"values":{"1":{"slot":1,"type":"STRING","value":"CleanStatus"}}},"49":{"slot":49,"values":{"1":{"slot":1,"type":"STRING","value":"AccountSource"}}},"50":{"slot":50,"values":{"1":{"slot":1,"type":"STRING","value":"DunsNumber"}}},"51":{"slot":51,"values":{"1":{"slot":1,"type":"STRING","value":"Tradestyle"}}},"52":{"slot":52,"values":{"1":{"slot":1,"type":"STRING","value":"NaicsCode"}}},"53":{"slot":53,"values":{"1":{"slot":1,"type":"STRING","value":"NaicsDesc"}}},"54":{"slot":54,"values":{"1":{"slot":1,"type":"STRING","value":"YearStarted"}}},"55":{"slot":55,"values":{"1":{"slot":1,"type":"STRING","value":"SicDesc"}}},"56":{"slot":56,"values":{"1":{"slot":1,"type":"STRING","value":"DandbCompanyId"}}},"57":{"slot":57,"values":{"1":{"slot":1,"type":"STRING","value":"CustomerPriority__c"}}},"58":{"slot":58,"values":{"1":{"slot":1,"type":"STRING","value":"SLA__c"}}},"59":{"slot":59,"values":{"1":{"slot":1,"type":"STRING","value":"Active__c"}}},"60":{"slot":60,"values":{"1":{"slot":1,"type":"STRING","value":"NumberofLocations__c"}}},"61":{"slot":61,"values":{"1":{"slot":1,"type":"STRING","value":"UpsellOpportunity__c"}}},"62":{"slot":62,"values":{"1":{"slot":1,"type":"STRING","value":"SLASerialNumber__c"}}},"63":{"slot":63,"values":{"1":{"slot":1,"type":"STRING","value":"SLAExpirationDate__c"}}}},"visible":false},"8":{"slot":8,"name":"Data Source Filter","elements":{},"visible":false},"9":{"slot":9,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"10":{"slot":10,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT * FROM account"}}}},"visible":true},"11":{"slot":11,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"12":{"slot":12,"name":"Connection Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"InitiateOAuth"},"2":{"slot":2,"type":"STRING","value":"OFF"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"OAuthAccessToken"},"2":{"slot":2,"type":"STRING","value":"${sf_access_token}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"OAuthServerURL"},"2":{"slot":2,"type":"STRING","value":"${c_oauth_server_url}/services/Soap/c/40.0/"}}}},"visible":true},"13":{"slot":13,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"14":{"slot":14,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"15":{"slot":15,"name":"Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stg_sf_accounts"}}}},"visible":true},"16":{"slot":16,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"17":{"slot":17,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtln-stage-bucket"}}}},"visible":true},"18":{"slot":18,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Salesforce"}}}},"visible":false},"102":{"slot":102,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"104":{"slot":104,"name":"Security Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"105":{"slot":105,"name":"Use Sandbox","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"3"}}}},"visible":false},"1015":{"slot":1015,"name":"Authentication Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OAuth"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"Load Options","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Amazon S3 Location"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1238691":{"id":1238691,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":165,"y":0,"width":32,"height":32,"inputConnectorIDs":[1238698],"outputSuccessConnectorIDs":[1238692],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python Script 1"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"# importing the requests library\nimport requests\nsf_url = 'https://login.salesforce.com/services/oauth2/token' # Set destination URL here\n# Set POST fields here\npost_fields = {\"grant_type\": \"refresh_token\"\n               , \"client_id\" : c_client_id\n               , \"client_secret\" : c_client_secret\n               , \"refresh_token\" : c_refresh_token\n               , \"format\" : \"xml\"\n              }     \n\n#request = Request(url, urlencode(post_fields).encode())\n# sending post request and saving response as response object\nr = requests.post(url = sf_url, data = post_fields)\n\nresponse = r.text.strip()\nprint(response)\n\nfrom xml.etree import ElementTree as ET\nx= ET.fromstring(response)\ntoken = x.find('access_token')\n\nif token is not None:\n    print 'Found value:', token.text\n    context.updateVariable('sf_access_token', token.text) "}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1238694":{"id":1238694,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":723,"y":16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python Script 0"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"from xml.etree import ElementTree as ET\nresponse = \"\"\"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<OAuth><access_token>00D0Y000000pO7p!AR4AQNEb9r8uSRt2pdoX1jyTjcURoG8w4bUogOBSSQYP8EQ.xE_NHZ.einLod0IVZT5pMccHJegiXjHwJemeckF9YquXYzrR</access_token><signature>wShqFhhJvJmF1F6tHexd0zHdTNJkcUtTY68bIcI0OKg=</signature><scope>refresh_token web api</scope><instance_url>https://mtln-dev-ed.my.salesforce.com</instance_url><id>https://login.salesforce.com/id/00D0Y000000pO7pUAE/0050Y000000JQvxQAG</id><token_type>Bearer</token_type><issued_at>1527778678113</issued_at></OAuth>\n\"\"\".strip()\nx= ET.fromstring(response)\ntoken = x.find('access_token')\n\nif token is not None:\n    print 'Found value:', token.text\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1238695":{"id":1238695,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":0,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[1238698],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"1238692":{"id":1238692,"sourceID":1238691,"targetID":1238688}},"failureConnectors":{},"unconditionalConnectors":{"1238698":{"id":1238698,"sourceID":1238695,"targetID":1238691}},"trueConnectors":{"1238693":{"id":1238693,"sourceID":1238688,"targetID":1238689}},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{"1238690":{"id":1238690,"x":758,"y":-82,"width":250,"height":58,"text":"c_client_id\tText\tCopied\t3MVG9HxRZv05HarTOzFNw7wcyy0_8UoeZxCYllX21sKnrUrh.saOXMTIL6NHrqZ828ybJvsXfhG3jXzWboon4\nc_client_secret\tText\tCopied\t4858033471965799804\nc_oauth_server_url\tText\tCopied\thttps://eu11.salesforce.com\nc_refresh_token\tText\tCopied\t5Aep861k56jbBM_YiGqHx9E5PxAJZdScdeDk8MiFIm0mylY6rRm7BjsRuGrgwkbRZrsPO9iA9sLB9mwNEhw0ATl\nsf_access_token\tText\tCopied\t00D0Y000000pO7p!AR4AQNEb9r8uSRt2pdoX1jyTjcURoG8w4bUogOBSSQYP8EQ.xE_NHZ.einLod0IVZT5pMccHJegiXjHwJemeckF9YquXYzrR","colour":"e6e63c"}},"variables":{"c_client_id":{"definition":{"name":"c_client_id","type":"TEXT","scope":"BRANCH","description":null,"visibility":"PUBLIC"},"value":"--some default--"},"c_client_secret":{"definition":{"name":"c_client_secret","type":"TEXT","scope":"BRANCH","description":null,"visibility":"PUBLIC"},"value":"--some default--"},"c_oauth_server_url":{"definition":{"name":"c_oauth_server_url","type":"TEXT","scope":"BRANCH","description":null,"visibility":"PUBLIC"},"value":"--some default--"},"c_refresh_token":{"definition":{"name":"c_refresh_token","type":"TEXT","scope":"BRANCH","description":null,"visibility":"PUBLIC"},"value":"--some default--"},"sf_access_token":{"definition":{"name":"sf_access_token","type":"TEXT","scope":"BRANCH","description":null,"visibility":"PUBLIC"},"value":"--some default--"}},"grids":{}},"info":{"name":"Salesforce 2 - Child job","description":"","type":"ORCHESTRATION","tag":"956061d5-30d1-4744-ba5f-e3f4117c5f7f"}}