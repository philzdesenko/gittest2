{"job":{"components":{"79458":{"id":79458,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-768,"y":64,"width":32,"height":32,"inputConnectorIDs":[79509],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79459":{"id":79459,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":-768,"y":-176,"width":32,"height":32,"inputConnectorIDs":[79501],"outputSuccessConnectorIDs":[79485],"outputFailureConnectorIDs":[79509],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Prepare Asset data for upsert 0"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Prepare ACCOUNT data for upsert"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79460":{"id":79460,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":0,"y":-144,"width":32,"height":32,"inputConnectorIDs":[79503,79504],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[79486],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79461":{"id":79461,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-1024,"y":-176,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[79501],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79462":{"id":79462,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":-464,"y":-176,"width":32,"height":16,"inputConnectorIDs":[79485],"outputSuccessConnectorIDs":[79483],"outputFailureConnectorIDs":[79506],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Status","mapTo":"jv_status"},"2":{"slot":2,"fromId":null,"fromName":"Message","mapTo":"jv_message"},"3":{"slot":3,"fromId":null,"fromName":"Started At","mapTo":"jv_start_upsert"},"4":{"slot":4,"fromId":null,"fromName":"Completed At","mapTo":"jv_end_upsert"},"5":{"slot":5,"fromId":null,"fromName":"Row Count","mapTo":"jv_rowcount_upsert"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Retry 0"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ev_retry_count}"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Short delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[79508],"inputIterationConnectorIDs":[]},"79463":{"id":79463,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":304,"y":-240,"width":32,"height":32,"inputConnectorIDs":[79477],"outputSuccessConnectorIDs":[79479],"outputFailureConnectorIDs":[79503],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Insert JOB_STATUS for Successful Batch"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Insert JOB_STATUS - Account"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_object_name"},"2":{"slot":2,"type":"STRING","value":"${jv_object_name}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"jv_operation"},"2":{"slot":2,"type":"STRING","value":"${jv_operation}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"jv_status"},"2":{"slot":2,"type":"STRING","value":"${jv_status}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"jv_message"},"2":{"slot":2,"type":"STRING","value":"${jv_message}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"jv_batch_id"},"2":{"slot":2,"type":"STRING","value":"${jv_batch_id}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"jv_rowcount_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_rowcount_upsert}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"jv_start_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_start_upsert}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"jv_end_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_end_upsert}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79464":{"id":79464,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":256,"y":192,"width":32,"height":32,"inputConnectorIDs":[79502,79505,79507],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[79487],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79465":{"id":79465,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":-176,"y":-240,"width":32,"height":32,"inputConnectorIDs":[79483],"outputSuccessConnectorIDs":[79477],"outputFailureConnectorIDs":[79504],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update MetaData Last Batch Timestamp OK"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update Meta Data - Account"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_max_last_update_ts"},"2":{"slot":2,"type":"STRING","value":"${jv_max_last_update_ts}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"jv_object_name"},"2":{"slot":2,"type":"STRING","value":"${jv_object_name}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"jv_operation"},"2":{"slot":2,"type":"STRING","value":"${jv_operation}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"jv_batch_id"},"2":{"slot":2,"type":"STRING","value":"${jv_batch_id}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79466":{"id":79466,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":176,"y":-144,"width":32,"height":32,"inputConnectorIDs":[79486],"outputSuccessConnectorIDs":[79481],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SNS Message due to meta data failure"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"eu-west-1"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"matillion-phil"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message - ETL Failure"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ETL failure for batch ${jv_batch_id}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79467":{"id":79467,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":32,"y":48,"width":32,"height":32,"inputConnectorIDs":[79474],"outputSuccessConnectorIDs":[79482],"outputFailureConnectorIDs":[79507],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update MetaData Last Batch Timestamp FAIL"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update Meta Data - Account"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_max_last_update_ts"},"2":{"slot":2,"type":"STRING","value":"${jv_max_last_update_ts}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"jv_object_name"},"2":{"slot":2,"type":"STRING","value":"${jv_object_name}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"jv_operation"},"2":{"slot":2,"type":"STRING","value":"${jv_operation}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"jv_batch_id"},"2":{"slot":2,"type":"STRING","value":"${jv_batch_id}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79468":{"id":79468,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":480,"y":48,"width":32,"height":32,"inputConnectorIDs":[79480],"outputSuccessConnectorIDs":[79478],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SNS Message - Upsert FAILURE"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"eu-west-1"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"matillion-phil"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message - Salesforce ASSET Upsert FAILURE"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"A number of ETL records failed for batch ${jv_batch_id}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79469":{"id":79469,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1121667926,"x":-240,"y":48,"width":32,"height":32,"inputConnectorIDs":[79506],"outputSuccessConnectorIDs":[79474],"outputFailureConnectorIDs":[79502],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Query back current batch"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"3":{"slot":3,"name":"Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"PhilSalesforce"}}}},"visible":true},"6":{"slot":6,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Asset"}}}},"visible":false},"7":{"slot":7,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"ContactId"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"AccountId"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"ParentId"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"RootAssetId"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Product2Id"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"IsCompetitorProduct"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"CreatedDate"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"CreatedById"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"LastModifiedDate"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"LastModifiedById"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"SystemModstamp"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"IsDeleted"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"Name"}}},"15":{"slot":15,"values":{"1":{"slot":1,"type":"STRING","value":"SerialNumber"}}},"16":{"slot":16,"values":{"1":{"slot":1,"type":"STRING","value":"InstallDate"}}},"17":{"slot":17,"values":{"1":{"slot":1,"type":"STRING","value":"PurchaseDate"}}},"18":{"slot":18,"values":{"1":{"slot":1,"type":"STRING","value":"UsageEndDate"}}},"19":{"slot":19,"values":{"1":{"slot":1,"type":"STRING","value":"Status"}}},"20":{"slot":20,"values":{"1":{"slot":1,"type":"STRING","value":"Price"}}},"21":{"slot":21,"values":{"1":{"slot":1,"type":"STRING","value":"Quantity"}}},"22":{"slot":22,"values":{"1":{"slot":1,"type":"STRING","value":"Description"}}},"23":{"slot":23,"values":{"1":{"slot":1,"type":"STRING","value":"AssetServicedById"}}},"24":{"slot":24,"values":{"1":{"slot":1,"type":"STRING","value":"AssetLevel"}}},"25":{"slot":25,"values":{"1":{"slot":1,"type":"STRING","value":"LastViewedDate"}}},"26":{"slot":26,"values":{"1":{"slot":1,"type":"STRING","value":"LastReferencedDate"}}},"27":{"slot":27,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Equipment_ID__c"}}},"28":{"slot":28,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Sales_Order_Number__c"}}},"29":{"slot":29,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Sales_Order_Line_Number__c"}}},"30":{"slot":30,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Software_Support_Reference_Number__c"}}},"31":{"slot":31,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Software_Rev_Last_Contact__c"}}},"32":{"slot":32,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Software_version__c"}}},"33":{"slot":33,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_IP_Address__c"}}},"34":{"slot":34,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_HA_SKU_Serial_number__c"}}},"35":{"slot":35,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Feature_Type__c"}}},"36":{"slot":36,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Under_Premium_Bundle__c"}}},"37":{"slot":37,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Feature_Start_Date__c"}}},"38":{"slot":38,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Feature_End_Date__c"}}},"39":{"slot":39,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Maintained_Ship_Date__c"}}},"40":{"slot":40,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Product_Registration_Date__c"}}},"41":{"slot":41,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Maintained_Install_Date__c"}}},"42":{"slot":42,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Service_Decline_Reason__c"}}},"43":{"slot":43,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Service_Decline_Date__c"}}},"44":{"slot":44,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Common_HW_Personality__c"}}},"45":{"slot":45,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_CLAIM_CODE__c"}}},"46":{"slot":46,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_MAC_Address__c"}}},"47":{"slot":47,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_ProductCode__c"}}},"48":{"slot":48,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Ship_Date__c"}}},"49":{"slot":49,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Service_Decline__c"}}},"50":{"slot":50,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Bill_To_Partner_Id__c"}}},"51":{"slot":51,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Ship_To_Partner_Id__c"}}},"52":{"slot":52,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Installed_At_Partner_Id__c"}}},"53":{"slot":53,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Primary_Reseller_Id__c"}}},"54":{"slot":54,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Registered_By_Partner_Id__c"}}},"55":{"slot":55,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Sold_To_Partner_Id__c"}}},"56":{"slot":56,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Managed_Services_Provider_Partner_Id__c"}}},"57":{"slot":57,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_System_Integrator_Partner_Id__c"}}},"58":{"slot":58,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Managing_Reseller_Partner_Id__c"}}},"59":{"slot":59,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_JN_POS_Distributor_partner_Id__c"}}},"60":{"slot":60,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_JN_POS_Reseller_Partner_Id__c"}}},"61":{"slot":61,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_POS_End_User_PartnerID__c"}}},"62":{"slot":62,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Distributor_PartnerID__c"}}},"63":{"slot":63,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_RMANumber__c"}}},"64":{"slot":64,"values":{"1":{"slot":1,"type":"STRING","value":"Test_flow__c"}}}},"visible":false},"8":{"slot":8,"name":"Data Source Filter","elements":{},"visible":false},"9":{"slot":9,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"10":{"slot":10,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select [Id], [Name], [SicDesc]\nfrom [Account] \nwhere [SicDesc] = '${jv_batch_id}'"}}}},"visible":true},"11":{"slot":11,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"100"}}}},"visible":false},"12":{"slot":12,"name":"Connection Options","elements":{},"visible":true},"13":{"slot":13,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"14":{"slot":14,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TAKEOFF"}}}},"visible":true},"15":{"slot":15,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ACCOUNT_FAILED_BATCH"}}}},"visible":true},"16":{"slot":16,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"17":{"slot":17,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtlnbulkload"}}}},"visible":false},"18":{"slot":18,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Salesforce"}}}},"visible":false},"102":{"slot":102,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ev_sf_username}"}}}},"visible":false},"103":{"slot":103,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Juniper@2020ps"}}}},"visible":false},"104":{"slot":104,"name":"Security Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"105":{"slot":105,"name":"Use Sandbox","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"3"}}}},"visible":true},"1015":{"slot":1015,"name":"Authentication Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OAuth"}}}},"visible":true},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Snowflake Managed"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79470":{"id":79470,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":256,"y":48,"width":32,"height":32,"inputConnectorIDs":[79482],"outputSuccessConnectorIDs":[79480],"outputFailureConnectorIDs":[79505],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Insert JOB_STATUS for Failed Records"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Insert JOB_STATUS for Failed Records -Account"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_object_name"},"2":{"slot":2,"type":"STRING","value":"${jv_object_name}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"jv_operation"},"2":{"slot":2,"type":"STRING","value":"${jv_operation}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"jv_status"},"2":{"slot":2,"type":"STRING","value":"${jv_status}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"jv_message"},"2":{"slot":2,"type":"STRING","value":"${jv_message}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"jv_batch_id"},"2":{"slot":2,"type":"STRING","value":"${jv_batch_id}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"jv_rowcount_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_rowcount_upsert}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"jv_start_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_start_upsert}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"jv_end_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_end_upsert}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79471":{"id":79471,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-525995223,"x":-464,"y":-144,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Status","mapTo":"jv_status"},"2":{"slot":2,"fromId":null,"fromName":"Message","mapTo":"jv_message"},"3":{"slot":3,"fromId":null,"fromName":"Started At","mapTo":"jv_start_upsert"},"4":{"slot":4,"fromId":null,"fromName":"Completed At","mapTo":"jv_end_upsert"},"5":{"slot":5,"fromId":null,"fromName":"Row Count","mapTo":"jv_rowcount_upsert"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Upsert Salesforce ACCOUNT"}}}},"visible":true},"3":{"slot":3,"name":"Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Salesforce"}}}},"visible":true},"8":{"slot":8,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"9":{"slot":9,"name":"Output Operation","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Upsert"}}}},"visible":true},"11":{"slot":11,"name":"Target Object","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Account"}}}},"visible":true},"12":{"slot":12,"name":"Connection Options","elements":{},"visible":true},"15":{"slot":15,"name":"Salesforce ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"16":{"slot":16,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TMP_FINAL_INSTALL_ACCOUNT"}}}},"visible":true},"17":{"slot":17,"name":"Salesforce ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Id"}}}},"visible":true},"18":{"slot":18,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TAKEOFF"}}}},"visible":true},"98":{"slot":98,"name":"Column Mappings","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Id"},"2":{"slot":2,"type":"STRING","value":"Id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Name"},"2":{"slot":2,"type":"STRING","value":"Name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"SicDesc"},"2":{"slot":2,"type":"STRING","value":"SicDesc"}}}},"visible":true},"102":{"slot":102,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"phil.zdesenko@matillion.com"}}}},"visible":false},"103":{"slot":103,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dsfrmdbgrIdXB7Jeuk3aC155"}}}},"visible":false},"104":{"slot":104,"name":"Security Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"105":{"slot":105,"name":"Use Sandbox","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":false},"106":{"slot":106,"name":"Use Bulk API","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"888":{"slot":888,"name":"Content Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ZIP_XML"}}}},"visible":true},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"5"}}}},"visible":true},"1016":{"slot":1016,"name":"Authentication Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"OAuth"}}}},"visible":true},"1017":{"slot":1017,"name":"Batch Size","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"10000"}}}},"visible":true},"1018":{"slot":1018,"name":"Batch Size","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2000"}}}},"visible":true},"1019":{"slot":1019,"name":"Records Per Ingest Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"1119":{"slot":1119,"name":"On Warnings","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Continue"}}}},"visible":true},"1819":{"slot":1819,"name":"Capture Rejected Entries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"1820":{"slot":1820,"name":"Rejected Entries Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1821":{"slot":1821,"name":"Rejected Entries Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1822":{"slot":1822,"name":"Rejected Entries Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1823":{"slot":1823,"name":"Relationship Columns","elements":{},"visible":true},"1832":{"slot":1832,"name":"Truncate Rejected Entries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"8819":{"slot":8819,"name":"Capture Batch Results","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"8820":{"slot":8820,"name":"Batch Results Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"8821":{"slot":8821,"name":"Batch Results Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"8822":{"slot":8822,"name":"Batch Results Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8832":{"slot":8832,"name":"Truncate Batch Results","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[79508]},"79472":{"id":79472,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":576,"y":-144,"width":32,"height":32,"inputConnectorIDs":[79476,79478,79479,79481],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[79484],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79473":{"id":79473,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":576,"y":192,"width":32,"height":32,"inputConnectorIDs":[79487],"outputSuccessConnectorIDs":[79476],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SNS Message - Logging FAIL"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"eu-west-1"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"matillion-phil"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message - ETL Failure"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ETL failure for batch ${jv_batch_id}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"79475":{"id":79475,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":720,"y":-144,"width":32,"height":32,"inputConnectorIDs":[79484],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"79474":{"id":79474,"sourceID":79469,"targetID":79467},"79476":{"id":79476,"sourceID":79473,"targetID":79472},"79477":{"id":79477,"sourceID":79465,"targetID":79463},"79478":{"id":79478,"sourceID":79468,"targetID":79472},"79479":{"id":79479,"sourceID":79463,"targetID":79472},"79480":{"id":79480,"sourceID":79470,"targetID":79468},"79481":{"id":79481,"sourceID":79466,"targetID":79472},"79482":{"id":79482,"sourceID":79467,"targetID":79470},"79483":{"id":79483,"sourceID":79462,"targetID":79465},"79485":{"id":79485,"sourceID":79459,"targetID":79462}},"failureConnectors":{"79502":{"id":79502,"sourceID":79469,"targetID":79464},"79503":{"id":79503,"sourceID":79463,"targetID":79460},"79504":{"id":79504,"sourceID":79465,"targetID":79460},"79505":{"id":79505,"sourceID":79470,"targetID":79464},"79506":{"id":79506,"sourceID":79462,"targetID":79469},"79507":{"id":79507,"sourceID":79467,"targetID":79464},"79509":{"id":79509,"sourceID":79459,"targetID":79458}},"unconditionalConnectors":{"79484":{"id":79484,"sourceID":79472,"targetID":79475},"79486":{"id":79486,"sourceID":79460,"targetID":79466},"79487":{"id":79487,"sourceID":79464,"targetID":79473},"79501":{"id":79501,"sourceID":79461,"targetID":79459}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"79508":{"id":79508,"sourceID":79462,"targetID":79471}},"noteConnectors":{},"notes":{"79451":{"id":79451,"x":-940,"y":-82,"width":322,"height":199,"text":"``Belt and Braces Approach``\n\nThis part of the ETL should not fail as it just setting the environment prior to the Salesforce Asset upsert operation.\n\nHowever, if it does we are capturing the issue and ending the ETL and firing off a SNS Failure message.","colour":"e6e63c"},"79452":{"id":79452,"x":-922,"y":-383,"width":272,"height":40,"text":"**``Upsert to SalesForce Account Object``**","colour":"d60000"},"79453":{"id":79453,"x":617,"y":-347,"width":228,"height":260,"text":"We are setting the status here to SUCCESS.\n\nThe reason being is that we do no want this Orchestration to propagate back up to the calling job a failure. If a number of batch records fail to upsert, we still want those that succeeded to have their SFCD_IDs downloaded to Snowflake.\n\nBatch upsert errors will be reported back via SNS messages anyways.","colour":"e6e63c"},"79454":{"id":79454,"x":-339,"y":-133,"width":244,"height":267,"text":"Query back the failed batch Id's  --------------->\n\nNB: We are using \"Snowflake managed\" for temporary storage. You may want to change this to S3.\n\nWhether the upsert process was an \"Insert\" or an \"Update\", only if the prior Salesforce Output component was successful, we would have the batch_id on the column \"CEC_API_Job_ID__c\" in Salesforce.","colour":"e6e63c"},"79455":{"id":79455,"x":-936,"y":-304,"width":319,"height":183,"text":"The transformation sources the SFDC_ID's from the ACCOUNT_XREF and PRODUCT_XREF tables and rewrites in the TAKEOFF schema an ID populated temp table named **TMP_FINAL_INSTALL_BASE_PRE_SFDC**\n\nThis table is now ready for Upsert by the following component.","colour":"e6e63c"},"79456":{"id":79456,"x":-547,"y":-362,"width":183,"height":297,"text":"Retry connectivity to SalesForce for Upsert/Select component operations.\n\nNumber of iterations controlled by environment variable **ev_retry_count  **(NB first iteration is Zero, so setting of 2 means 3 iterations performed).\nSetting **ev_retry_count = 0  **will disable Retry iterations.","colour":"f9c21b"},"79457":{"id":79457,"x":159,"y":-49,"width":223,"height":170,"text":"Determine which Salesforce ASSET records failed the upsert process.  \nNB: I increased the size of the ERROR_MESSAGE column on JOB_STATUS to varchar(500)","colour":"e6e63c"},"79500":{"id":79500,"x":-289,"y":-330,"width":727,"height":129,"text":"Could do with transactional control here. Maybe even include a API call to the schedule to disable if error occurred.","colour":"d60000"}},"variables":{"jv_batch_id":{"definition":{"name":"jv_batch_id","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"0"},"jv_end_upsert":{"definition":{"name":"jv_end_upsert","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"jv_max_last_update_ts":{"definition":{"name":"jv_max_last_update_ts","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"jv_message":{"definition":{"name":"jv_message","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"none"},"jv_object_name":{"definition":{"name":"jv_object_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"ACCOUNT"},"jv_operation":{"definition":{"name":"jv_operation","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"OUTBOUND_FROM_SNOWFLAKE"},"jv_rowcount_upsert":{"definition":{"name":"jv_rowcount_upsert","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"0"},"jv_start_upsert":{"definition":{"name":"jv_start_upsert","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"jv_status":{"definition":{"name":"jv_status","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""}},"grids":{}},"info":{"name":"1) Outbound to SalesForce ACCOUNT","description":"","type":"ORCHESTRATION","tag":"d136a3b4-6e30-4ff9-9e5f-4340d95fd992"}}