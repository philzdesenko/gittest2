{"job":{"components":{"1234261":{"id":1234261,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":160,"y":288,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[1234251],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ASSET_FAILED_BATCH"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ASSET_FAILED_BATCH"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Equipment_ID__c"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_API_Job_ID__c"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TAKEOFF"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1234264":{"id":1234264,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":211954775,"x":784,"y":128,"width":32,"height":32,"inputConnectorIDs":[1234269],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_STATUS"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_STATUS"}}}},"visible":true},"4":{"slot":4,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"C_MATILLION_RUN_ID"},"2":{"slot":2,"type":"STRING","value":"MATILLION_RUN_ID"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"C_EXEC_DATE"},"2":{"slot":2,"type":"STRING","value":"EXECUTION_DATE"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"C_EXEC_TIME"},"2":{"slot":2,"type":"STRING","value":"EXECUTION_TIME"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"C_OBJECT_NAME"},"2":{"slot":2,"type":"STRING","value":"OBJECT_NAME"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"C_EDP_OPERATION"},"2":{"slot":2,"type":"STRING","value":"EDP_OPERATION"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"C_EXTERNAL_ID"},"2":{"slot":2,"type":"STRING","value":"EXTERNAL_ID"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"C_STATUS"},"2":{"slot":2,"type":"STRING","value":"STATUS"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"C_MESSAGE"},"2":{"slot":2,"type":"STRING","value":"ERROR_DESCRIPTION"}}}},"visible":true},"5":{"slot":5,"name":"Truncate","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Append"}}}},"visible":true},"200":{"slot":200,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"201":{"slot":201,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"202":{"slot":202,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"203":{"slot":203,"name":"Fix Data Type Mismatches","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1234265":{"id":1234265,"inputCardinality":"ZERO_OR_MANY","outputCardinality":"MANY","implementationID":-1266674941,"x":160,"y":128,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[1234254],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"INSTALL_BASE_DELTA_LOG for current Batch"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select CEC_EQUIPMENT_ID__C, JOB_ID as BATCH_ID\nFROM \"LANDING\".\"INSTALL_BASE_DELTA_LOG\"\nWHERE JOB_ID = ${jv_batch_id}"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1234266":{"id":1234266,"inputCardinality":"TWO","outputCardinality":"MANY","implementationID":-2139546284,"x":432,"y":128,"width":32,"height":32,"inputConnectorIDs":[1234254,1234268],"outputConnectorIDs":[1234271],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Except 0"}}}},"visible":true},"2":{"slot":2,"name":"Cast Types","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Primary Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"INSTALL_BASE_DELTA_LOG for current Batch"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1234267":{"id":1234267,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":615,"y":130,"width":32,"height":32,"inputConnectorIDs":[1234271],"outputConnectorIDs":[1234269],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"create record for insert"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENT_DATE"},"2":{"slot":2,"type":"STRING","value":"C_EXEC_DATE"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CURRENT_TIME"},"2":{"slot":2,"type":"STRING","value":"C_EXEC_TIME"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"'${jv_object_name}'"},"2":{"slot":2,"type":"STRING","value":"C_OBJECT_NAME"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"'${jv_operation}'"},"2":{"slot":2,"type":"STRING","value":"C_EDP_OPERATION"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"\"CEC_EQUIPMENT_ID__C\""},"2":{"slot":2,"type":"STRING","value":"C_EXTERNAL_ID"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"'${jv_status}'"},"2":{"slot":2,"type":"STRING","value":"C_STATUS"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"\"BATCH_ID\""},"2":{"slot":2,"type":"STRING","value":"C_MATILLION_RUN_ID"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"CONCAT('Rowcount upsert: ', ${jv_rowcount_upsert}::varchar,', Message: ','${jv_message}',', ','Upsert start_end times: ','${jv_start_upsert}','/','${jv_end_upsert}')"},"2":{"slot":2,"type":"STRING","value":"C_MESSAGE"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"1234270":{"id":1234270,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":128170095,"x":352,"y":288,"width":32,"height":32,"inputConnectorIDs":[1234251],"outputConnectorIDs":[1234268],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Rename columns for comparison"}}}},"visible":true},"2":{"slot":2,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Equipment_ID__c"},"2":{"slot":2,"type":"STRING","value":"CEC_EQUIPMENT_ID__C"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_API_Job_ID__c"},"2":{"slot":2,"type":"STRING","value":"BATCH_ID"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"1234251":{"id":1234251,"sourceID":1234261,"targetID":1234270},"1234254":{"id":1234254,"sourceID":1234265,"targetID":1234266},"1234268":{"id":1234268,"sourceID":1234270,"targetID":1234266},"1234269":{"id":1234269,"sourceID":1234267,"targetID":1234264},"1234271":{"id":1234271,"sourceID":1234266,"targetID":1234267}},"notes":{"1234260":{"id":1234260,"x":50,"y":5,"width":237,"height":341,"text":"Select back the data from the LOG table and compare with downloaded SalesForce records for the current batch.\n\nAny missing records will be recorded in the JOB_STATUS table.","colour":"e6e63c"},"1234263":{"id":1234263,"x":328,"y":3,"width":161,"height":192,"text":"This component throws out those rows missing from the SalesForce Batch.","colour":"e6e63c"}},"noteConnectors":{},"variables":{"jv_batch_id":{"definition":{"name":"jv_batch_id","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"0"},"jv_end_upsert":{"definition":{"name":"jv_end_upsert","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"jv_message":{"definition":{"name":"jv_message","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"none"},"jv_object_name":{"definition":{"name":"jv_object_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"none"},"jv_operation":{"definition":{"name":"jv_operation","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"none"},"jv_rowcount_upsert":{"definition":{"name":"jv_rowcount_upsert","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"0"},"jv_start_upsert":{"definition":{"name":"jv_start_upsert","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"jv_status":{"definition":{"name":"jv_status","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"none"}},"grids":{}},"info":{"name":"Insert JOB_STATUS for Failed Records","description":"","type":"TRANSFORMATION","tag":"d3e34a58-48e3-4a3a-8acf-4bc0372a8e52"}}