{"job":{"components":{"1233701":{"id":1233701,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":-768,"y":80,"width":32,"height":32,"inputConnectorIDs":[1233798],"outputSuccessConnectorIDs":[1233733],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SNS Message - ETL Failed"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"eu-west-1"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"matillion-phil"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message - ETL Failed"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"The ETL has failed"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233702":{"id":1233702,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-1744,"y":-176,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[1233795],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233703":{"id":1233703,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-720,"y":-176,"width":32,"height":32,"inputConnectorIDs":[1233736],"outputSuccessConnectorIDs":[1233794],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TESTS - SET A ROW TO BE BAD"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"update TAKEOFF.TMP_FINAL_INSTALL_BASE_PRE_SFDC set ACCOUNTID = 'BAD_ACCT' WHERE CEC_EQUIPMENT_ID__C = '10025768627';"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233704":{"id":1233704,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":528,"y":80,"width":32,"height":32,"inputConnectorIDs":[1233737],"outputSuccessConnectorIDs":[1233734],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SNS Message - Upsert FAILURE"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"eu-west-1"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"matillion-phil"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message - Salesforce ASSET upsert failure"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"A number of ETL records failed for batch ${jv_batch_id}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233705":{"id":1233705,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":528,"y":-416,"width":32,"height":32,"inputConnectorIDs":[1233738],"outputSuccessConnectorIDs":[1233742],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SNS Message SUCCESS"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"eu-west-1"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"matillion-phil"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message - SalesForce ASSET Upsert SUCCESS"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Upsert was successful for batch ${jv_batch_id}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233706":{"id":1233706,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":-960,"y":80,"width":32,"height":32,"inputConnectorIDs":[1233755,1233797],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[1233798],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233707":{"id":1233707,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-576,"y":80,"width":32,"height":32,"inputConnectorIDs":[1233733],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233708":{"id":1233708,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":301,"y":-273,"width":32,"height":32,"inputConnectorIDs":[1233754,1233799],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[1233792],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233709":{"id":1233709,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":304,"y":304,"width":32,"height":32,"inputConnectorIDs":[1233751,1233752,1233800],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[1233793],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233710":{"id":1233710,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":-272,"y":80,"width":32,"height":32,"inputConnectorIDs":[1233735],"outputSuccessConnectorIDs":[1233740],"outputFailureConnectorIDs":[1233752],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update MetaData Last Batch Timestamp FAIL"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update Meta Data"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_max_last_update_ts"},"2":{"slot":2,"type":"STRING","value":"${jv_max_last_update_ts}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"jv_object_name"},"2":{"slot":2,"type":"STRING","value":"${jv_object_name}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"jv_operation"},"2":{"slot":2,"type":"STRING","value":"${jv_operation}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233711":{"id":1233711,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":720,"y":80,"width":32,"height":32,"inputConnectorIDs":[1233734],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233720":{"id":1233720,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1032749985,"x":-1328,"y":-176,"width":32,"height":32,"inputConnectorIDs":[1233795],"outputSuccessConnectorIDs":[1233739],"outputFailureConnectorIDs":[1233797],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Max Last Update Timestamp/ BATCH_ID"}}}},"visible":true},"2":{"slot":2,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select max(\"MAX_EDP_LAST_UPDATED\")::TIMESTAMP_NTZ as MAX_EDP_LAST_UPDATED, \n       max(\"JOB_ID\") as BATCH_ID \nfrom   TAKEOFF.INSTALL_BASE_PRE_SFDC"}}}},"visible":true},"3":{"slot":3,"name":"Scalar Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_max_last_update_ts"},"2":{"slot":2,"type":"STRING","value":"MAX_EDP_LAST_UPDATED"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"jv_batch_id"},"2":{"slot":2,"type":"STRING","value":"BATCH_ID"}}}},"visible":true},"4":{"slot":4,"name":"","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233721":{"id":1233721,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":720,"y":304,"width":32,"height":32,"inputConnectorIDs":[1233732],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 2"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233724":{"id":1233724,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":96,"y":-416,"width":32,"height":32,"inputConnectorIDs":[1233743],"outputSuccessConnectorIDs":[1233738],"outputFailureConnectorIDs":[1233799],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Insert JOB_STATUS for Successful Batch"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Insert JOB_STATUS for Successful Batch"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_object_name"},"2":{"slot":2,"type":"STRING","value":"${jv_object_name}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"jv_operation"},"2":{"slot":2,"type":"STRING","value":"${jv_operation}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"jv_status"},"2":{"slot":2,"type":"STRING","value":"${jv_status}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"jv_message"},"2":{"slot":2,"type":"STRING","value":"${jv_message}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"jv_batch_id"},"2":{"slot":2,"type":"STRING","value":"${jv_batch_id}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"jv_rowcount_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_rowcount_upsert}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"jv_start_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_start_upsert}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"jv_end_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_end_upsert}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233725":{"id":1233725,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":-528,"y":-176,"width":32,"height":16,"inputConnectorIDs":[1233794],"outputSuccessConnectorIDs":[1233728],"outputFailureConnectorIDs":[1233796],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Status","mapTo":"jv_status"},"2":{"slot":2,"fromId":null,"fromName":"Message","mapTo":"jv_message"},"3":{"slot":3,"fromId":null,"fromName":"Started At","mapTo":"jv_start_upsert"},"4":{"slot":4,"fromId":null,"fromName":"Completed At","mapTo":"jv_end_upsert"},"5":{"slot":5,"fromId":null,"fromName":"Row Count","mapTo":"jv_rowcount_upsert"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Retry 1"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"3"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Short delay with backoff"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[1233753],"inputIterationConnectorIDs":[]},"1233726":{"id":1233726,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":720,"y":-272,"width":32,"height":32,"inputConnectorIDs":[1233729],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233727":{"id":1233727,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":-288,"y":-416,"width":32,"height":32,"inputConnectorIDs":[1233728],"outputSuccessConnectorIDs":[1233743],"outputFailureConnectorIDs":[1233754],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update MetaData Last Batch Timestamp OK"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update Meta Data"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_max_last_update_ts"},"2":{"slot":2,"type":"STRING","value":"${jv_max_last_update_ts}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"jv_object_name"},"2":{"slot":2,"type":"STRING","value":"${jv_object_name}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"jv_operation"},"2":{"slot":2,"type":"STRING","value":"${jv_operation}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233730":{"id":1233730,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-525995223,"x":-528,"y":-176,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Status","mapTo":"jv_status"},"2":{"slot":2,"fromId":null,"fromName":"Message","mapTo":"jv_message"},"3":{"slot":3,"fromId":null,"fromName":"Started At","mapTo":"jv_start_upsert"},"4":{"slot":4,"fromId":null,"fromName":"Completed At","mapTo":"jv_end_upsert"},"5":{"slot":5,"fromId":null,"fromName":"Row Count","mapTo":"jv_rowcount_upsert"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Upsert Salesforce ASSET"}}}},"visible":true},"3":{"slot":3,"name":"Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"9":{"slot":9,"name":"Output Operation","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Upsert"}}}},"visible":true},"11":{"slot":11,"name":"Target Object","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Asset"}}}},"visible":true},"12":{"slot":12,"name":"Connection Options","elements":{},"visible":true},"15":{"slot":15,"name":"Salesforce ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"16":{"slot":16,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TMP_FINAL_INSTALL_BASE_PRE_SFDC"}}}},"visible":true},"17":{"slot":17,"name":"Salesforce ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Equipment_ID__c"}}}},"visible":true},"18":{"slot":18,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TAKEOFF"}}}},"visible":true},"98":{"slot":98,"name":"Column Mappings","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_EQUIPMENT_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Equipment_ID__c"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"PRODUCT2ID"},"2":{"slot":2,"type":"STRING","value":"Product2Id"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"ACCOUNTID"},"2":{"slot":2,"type":"STRING","value":"AccountId"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_PRODUCTCODE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_ProductCode__c"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"NAME"},"2":{"slot":2,"type":"STRING","value":"Name"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"SERIALNUMBER"},"2":{"slot":2,"type":"STRING","value":"SerialNumber"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"PARENTID"},"2":{"slot":2,"type":"STRING","value":"ParentId"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"STATUS"},"2":{"slot":2,"type":"STRING","value":"Status"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"QUANTITY"},"2":{"slot":2,"type":"STRING","value":"Quantity"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"DESCRIPTION"},"2":{"slot":2,"type":"STRING","value":"Description"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SALES_ORDER_NUMBER__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Sales_Order_Number__c"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SALES_ORDER_LINE_NUMBER__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Sales_Order_Line_Number__c"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SOFTWARE_SUPPORT_REFERENCE_NUMBER__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Software_Support_Reference_Number__c"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SHIP_DATE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Ship_Date__c"}}},"15":{"slot":15,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_RMANUMBER__C"},"2":{"slot":2,"type":"STRING","value":"CEC_RMANumber__c"}}},"16":{"slot":16,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SOFTWARE_VERSION__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Software_version__c"}}},"17":{"slot":17,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SOFTWARE_REV_LAST_CONTACT__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Software_Rev_Last_Contact__c"}}},"18":{"slot":18,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_IP_ADDRESS__C"},"2":{"slot":2,"type":"STRING","value":"CEC_IP_Address__c"}}},"19":{"slot":19,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_HA_SKU_SERIAL_NUMBER__C"},"2":{"slot":2,"type":"STRING","value":"CEC_HA_SKU_Serial_number__c"}}},"20":{"slot":20,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_FEATURE_TYPE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Feature_Type__c"}}},"21":{"slot":21,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_UNDER_PREMIUM_BUNDLE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Under_Premium_Bundle__c"}}},"22":{"slot":22,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_FEATURE_START_DATE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Feature_Start_Date__c"}}},"23":{"slot":23,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_FEATURE_END_DATE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Feature_End_Date__c"}}},"24":{"slot":24,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_MAINTAINED_SHIP_DATE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Maintained_Ship_Date__c"}}},"25":{"slot":25,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_PRODUCT_REGISTRATION_DATE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Product_Registration_Date__c"}}},"26":{"slot":26,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_MAINTAINED_INSTALL_DATE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Maintained_Install_Date__c"}}},"27":{"slot":27,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SERVICE_DECLINE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Service_Decline__c"}}},"28":{"slot":28,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SERVICE_DECLINE_REASON__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Service_Decline_Reason__c"}}},"29":{"slot":29,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SERVICE_DECLINE_DATE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Service_Decline_Date__c"}}},"30":{"slot":30,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_COMMON_HW_PERSONALITY__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Common_HW_Personality__c"}}},"31":{"slot":31,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_BILL_TO_PARTNER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Bill_To_Partner_Id__c"}}},"32":{"slot":32,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SHIP_TO_PARTNER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Ship_To_Partner_Id__c"}}},"33":{"slot":33,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_INSTALLED_AT_PARTNER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Installed_At_Partner_Id__c"}}},"34":{"slot":34,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_PRIMARY_RESELLER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Primary_Reseller_Id__c"}}},"35":{"slot":35,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SOLD_TO_PARTNER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Sold_To_Partner_Id__c"}}},"36":{"slot":36,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_MANAGED_SERVICES_PROVIDER_PARTNER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Managed_Services_Provider_Partner_Id__c"}}},"37":{"slot":37,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_SYSTEM_INTEGRATOR_PARTNER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_System_Integrator_Partner_Id__c"}}},"38":{"slot":38,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_MANAGING_RESELLER_PARTNER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Managing_Reseller_Partner_Id__c"}}},"39":{"slot":39,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_JN_POS_DISTRIBUTOR_PARTNER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_JN_POS_Distributor_partner_Id__c"}}},"40":{"slot":40,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_JN_POS_RESELLER_PARTNER_ID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_JN_POS_Reseller_Partner_Id__c"}}},"41":{"slot":41,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_POS_END_USER_PARTNERID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_POS_End_User_PartnerID__c"}}},"42":{"slot":42,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_DISTRIBUTOR_PARTNERID__C"},"2":{"slot":2,"type":"STRING","value":"CEC_Distributor_PartnerID__c"}}},"43":{"slot":43,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_MAC_ADDRESS__C"},"2":{"slot":2,"type":"STRING","value":"CEC_MAC_Address__c"}}},"44":{"slot":44,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_CLAIM_CODE__C"},"2":{"slot":2,"type":"STRING","value":"CEC_CLAIM_CODE__c"}}},"45":{"slot":45,"values":{"1":{"slot":1,"type":"STRING","value":"BATCH_ID"},"2":{"slot":2,"type":"STRING","value":"CEC_API_Job_ID__c"}}}},"visible":true},"102":{"slot":102,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ev_sf_username}"}}}},"visible":true},"103":{"slot":103,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"Juniper SalesForce"}}}},"visible":true},"104":{"slot":104,"name":"Security Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":true},"105":{"slot":105,"name":"Use Sandbox","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"106":{"slot":106,"name":"Use Bulk API","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"2"}}}},"visible":false},"1016":{"slot":1016,"name":"Authentication Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"User/Password"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[1233753]},"1233731":{"id":1233731,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":304,"y":80,"width":32,"height":32,"inputConnectorIDs":[1233741],"outputSuccessConnectorIDs":[1233737],"outputFailureConnectorIDs":[1233800],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Insert JOB_STATUS for Failed Records"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Insert JOB_STATUS for Failed Records"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_object_name"},"2":{"slot":2,"type":"STRING","value":"${jv_object_name}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"jv_operation"},"2":{"slot":2,"type":"STRING","value":"${jv_operation}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"jv_status"},"2":{"slot":2,"type":"STRING","value":"${jv_status}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"jv_message"},"2":{"slot":2,"type":"STRING","value":"${jv_message}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"jv_batch_id"},"2":{"slot":2,"type":"STRING","value":"${jv_batch_id}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"jv_rowcount_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_rowcount_upsert}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"jv_start_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_start_upsert}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"jv_end_upsert"},"2":{"slot":2,"type":"STRING","value":"${jv_end_upsert}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233744":{"id":1233744,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":528,"y":304,"width":32,"height":32,"inputConnectorIDs":[1233793],"outputSuccessConnectorIDs":[1233732],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SNS Message - Logging FAIL"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"eu-west-1"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"matillion-phil"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message - ETL Failure"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ETL failure for batch ${jv_batch_id}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233745":{"id":1233745,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":-16,"y":80,"width":32,"height":16,"inputConnectorIDs":[1233740],"outputSuccessConnectorIDs":[1233741],"outputFailureConnectorIDs":[1233751],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Retry 0"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"3"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Short delay with backoff"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[1233758],"inputIterationConnectorIDs":[]},"1233746":{"id":1233746,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1121667926,"x":-16,"y":112,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Query back current batch"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"3":{"slot":3,"name":"Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"6":{"slot":6,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Asset"}}}},"visible":false},"7":{"slot":7,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"ContactId"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"AccountId"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"ParentId"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"RootAssetId"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Product2Id"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"IsCompetitorProduct"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"CreatedDate"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"CreatedById"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"LastModifiedDate"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"LastModifiedById"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"SystemModstamp"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"IsDeleted"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"Name"}}},"15":{"slot":15,"values":{"1":{"slot":1,"type":"STRING","value":"SerialNumber"}}},"16":{"slot":16,"values":{"1":{"slot":1,"type":"STRING","value":"InstallDate"}}},"17":{"slot":17,"values":{"1":{"slot":1,"type":"STRING","value":"PurchaseDate"}}},"18":{"slot":18,"values":{"1":{"slot":1,"type":"STRING","value":"UsageEndDate"}}},"19":{"slot":19,"values":{"1":{"slot":1,"type":"STRING","value":"Status"}}},"20":{"slot":20,"values":{"1":{"slot":1,"type":"STRING","value":"Price"}}},"21":{"slot":21,"values":{"1":{"slot":1,"type":"STRING","value":"Quantity"}}},"22":{"slot":22,"values":{"1":{"slot":1,"type":"STRING","value":"Description"}}},"23":{"slot":23,"values":{"1":{"slot":1,"type":"STRING","value":"AssetServicedById"}}},"24":{"slot":24,"values":{"1":{"slot":1,"type":"STRING","value":"AssetLevel"}}},"25":{"slot":25,"values":{"1":{"slot":1,"type":"STRING","value":"LastViewedDate"}}},"26":{"slot":26,"values":{"1":{"slot":1,"type":"STRING","value":"LastReferencedDate"}}},"27":{"slot":27,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Equipment_ID__c"}}},"28":{"slot":28,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Sales_Order_Number__c"}}},"29":{"slot":29,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Sales_Order_Line_Number__c"}}},"30":{"slot":30,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Software_Support_Reference_Number__c"}}},"31":{"slot":31,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Software_Rev_Last_Contact__c"}}},"32":{"slot":32,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Software_version__c"}}},"33":{"slot":33,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_IP_Address__c"}}},"34":{"slot":34,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_HA_SKU_Serial_number__c"}}},"35":{"slot":35,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Feature_Type__c"}}},"36":{"slot":36,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Under_Premium_Bundle__c"}}},"37":{"slot":37,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Feature_Start_Date__c"}}},"38":{"slot":38,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Feature_End_Date__c"}}},"39":{"slot":39,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Maintained_Ship_Date__c"}}},"40":{"slot":40,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Product_Registration_Date__c"}}},"41":{"slot":41,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Maintained_Install_Date__c"}}},"42":{"slot":42,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Service_Decline_Reason__c"}}},"43":{"slot":43,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Service_Decline_Date__c"}}},"44":{"slot":44,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Common_HW_Personality__c"}}},"45":{"slot":45,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_CLAIM_CODE__c"}}},"46":{"slot":46,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_MAC_Address__c"}}},"47":{"slot":47,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_ProductCode__c"}}},"48":{"slot":48,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Ship_Date__c"}}},"49":{"slot":49,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Service_Decline__c"}}},"50":{"slot":50,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Bill_To_Partner_Id__c"}}},"51":{"slot":51,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Ship_To_Partner_Id__c"}}},"52":{"slot":52,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Installed_At_Partner_Id__c"}}},"53":{"slot":53,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Primary_Reseller_Id__c"}}},"54":{"slot":54,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Registered_By_Partner_Id__c"}}},"55":{"slot":55,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Sold_To_Partner_Id__c"}}},"56":{"slot":56,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Managed_Services_Provider_Partner_Id__c"}}},"57":{"slot":57,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_System_Integrator_Partner_Id__c"}}},"58":{"slot":58,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Managing_Reseller_Partner_Id__c"}}},"59":{"slot":59,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_JN_POS_Distributor_partner_Id__c"}}},"60":{"slot":60,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_JN_POS_Reseller_Partner_Id__c"}}},"61":{"slot":61,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_POS_End_User_PartnerID__c"}}},"62":{"slot":62,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_Distributor_PartnerID__c"}}},"63":{"slot":63,"values":{"1":{"slot":1,"type":"STRING","value":"CEC_RMANumber__c"}}},"64":{"slot":64,"values":{"1":{"slot":1,"type":"STRING","value":"Test_flow__c"}}}},"visible":false},"8":{"slot":8,"name":"Data Source Filter","elements":{},"visible":false},"9":{"slot":9,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"10":{"slot":10,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select [Id], [CEC_Equipment_ID__c],[CEC_API_Job_ID__c]\nfrom [Asset] \nwhere [CEC_API_Job_ID__c] = ${jv_batch_id}"}}}},"visible":true},"11":{"slot":11,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"100"}}}},"visible":false},"12":{"slot":12,"name":"Connection Options","elements":{},"visible":true},"13":{"slot":13,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"14":{"slot":14,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TAKEOFF"}}}},"visible":true},"15":{"slot":15,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ASSET_FAILED_BATCH"}}}},"visible":true},"16":{"slot":16,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"17":{"slot":17,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtlnbulkload"}}}},"visible":false},"18":{"slot":18,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Salesforce"}}}},"visible":false},"102":{"slot":102,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ev_sf_username}"}}}},"visible":true},"103":{"slot":103,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Juniper@2020ps"}}}},"visible":true},"104":{"slot":104,"name":"Security Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":true},"105":{"slot":105,"name":"Use Sandbox","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1013":{"slot":1013,"name":"Auto Debug","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}}},"visible":true},"1014":{"slot":1014,"name":"Debug Level","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"3"}}}},"visible":false},"1015":{"slot":1015,"name":"Authentication Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"User/Password"}}}},"visible":true},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Snowflake Managed"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[1233758]},"1233747":{"id":1233747,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-272,"y":-80,"width":32,"height":32,"inputConnectorIDs":[1233796],"outputSuccessConnectorIDs":[1233735],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEBUG - Print Salesforce output status variables"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\nprint (jv_status)\nprint (jv_message)\nprint (jv_start_upsert)\nprint (jv_end_upsert)\nprint (jv_rowcount_upsert)"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python 3"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233748":{"id":1233748,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":-960,"y":-176,"width":32,"height":32,"inputConnectorIDs":[1233739],"outputSuccessConnectorIDs":[1233736],"outputFailureConnectorIDs":[1233755],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Prepare Asset data for upsert 0"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Prepare Asset data for upsert"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233749":{"id":1233749,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":720,"y":-416,"width":32,"height":32,"inputConnectorIDs":[1233742],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Success 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1233750":{"id":1233750,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":528,"y":-272,"width":32,"height":32,"inputConnectorIDs":[1233792],"outputSuccessConnectorIDs":[1233729],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SNS Message due to meta data failure"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"eu-west-1"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"matillion-phil"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message - ETL Failure"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ETL failure for batch ${jv_batch_id}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"1233728":{"id":1233728,"sourceID":1233725,"targetID":1233727},"1233729":{"id":1233729,"sourceID":1233750,"targetID":1233726},"1233732":{"id":1233732,"sourceID":1233744,"targetID":1233721},"1233733":{"id":1233733,"sourceID":1233701,"targetID":1233707},"1233734":{"id":1233734,"sourceID":1233704,"targetID":1233711},"1233735":{"id":1233735,"sourceID":1233747,"targetID":1233710},"1233736":{"id":1233736,"sourceID":1233748,"targetID":1233703},"1233737":{"id":1233737,"sourceID":1233731,"targetID":1233704},"1233738":{"id":1233738,"sourceID":1233724,"targetID":1233705},"1233739":{"id":1233739,"sourceID":1233720,"targetID":1233748},"1233740":{"id":1233740,"sourceID":1233710,"targetID":1233745},"1233741":{"id":1233741,"sourceID":1233745,"targetID":1233731},"1233742":{"id":1233742,"sourceID":1233705,"targetID":1233749},"1233743":{"id":1233743,"sourceID":1233727,"targetID":1233724},"1233794":{"id":1233794,"sourceID":1233703,"targetID":1233725}},"failureConnectors":{"1233751":{"id":1233751,"sourceID":1233745,"targetID":1233709},"1233752":{"id":1233752,"sourceID":1233710,"targetID":1233709},"1233754":{"id":1233754,"sourceID":1233727,"targetID":1233708},"1233755":{"id":1233755,"sourceID":1233748,"targetID":1233706},"1233796":{"id":1233796,"sourceID":1233725,"targetID":1233747},"1233797":{"id":1233797,"sourceID":1233720,"targetID":1233706},"1233799":{"id":1233799,"sourceID":1233724,"targetID":1233708},"1233800":{"id":1233800,"sourceID":1233731,"targetID":1233709}},"unconditionalConnectors":{"1233792":{"id":1233792,"sourceID":1233708,"targetID":1233750},"1233793":{"id":1233793,"sourceID":1233709,"targetID":1233744},"1233795":{"id":1233795,"sourceID":1233702,"targetID":1233720},"1233798":{"id":1233798,"sourceID":1233706,"targetID":1233701}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"1233753":{"id":1233753,"sourceID":1233725,"targetID":1233730},"1233758":{"id":1233758,"sourceID":1233745,"targetID":1233746}},"noteConnectors":{},"notes":{"1233712":{"id":1233712,"x":-413,"y":-522,"width":255,"height":673,"text":"Update the Meta Data Last Load timestmap column to the value of job variable __jv_max_last_update_ts__\n\nThis is gotten from the first step in the ETL.","colour":"e6e63c"},"1233713":{"id":1233713,"x":193,"y":-17,"width":223,"height":170,"text":"Determine which Salesforce ASSET records failed the upsert process.  \nNB: I increased the size of the ERROR_MESSAGE column on JOB_STATUS to varchar(500)","colour":"e6e63c"},"1233715":{"id":1233715,"x":630,"y":-11,"width":155,"height":161,"text":"If you WANT the ETL to be in a failed state down this branch, replace this component with an \"End Failure\" component.","colour":"e6e63c"},"1233716":{"id":1233716,"x":-1068,"y":-306,"width":372,"height":201,"text":"The transformation sources the SFDC_ID's from the ACCOUNT_XREF and PRODUCT_XREF tables and rewrites in the TAKEOFF schema an ID populated temp table named **TMP_FINAL_INSTALL_BASE_PRE_SFDC**\n\nThis table is now ready for Upsert by the following component.","colour":"e6e63c"},"1233717":{"id":1233717,"x":-1536,"y":-438,"width":424,"height":55,"text":"**``Upsert to SalesForce Asset Object``**","colour":"d60000"},"1233718":{"id":1233718,"x":-1105,"y":-46,"width":642,"height":202,"text":"``Belt and Braces Approach``\n\nThis part of the ETL should not fail as it just setting the environment prior to the Salesforce Asset upsert operation.\n\nHowever, if it does we are capturing the issue and ending the ETL and firing off a SNS Failure message.","colour":"e6e63c"},"1233719":{"id":1233719,"x":-650,"y":-383,"width":197,"height":279,"text":"We export a number of run-time stats to variables on this component for use in logging.\nThe export of the size of the log message can be increase by placing debug = ON and setting an appropriate verbosity level of 1 or 2 (a larger size may cause problems).  \nWhether this approach is chosen depends on the user.","colour":"e6e63c"},"1233722":{"id":1233722,"x":-136,"y":-96,"width":302,"height":251,"text":"Query back the failed batch Id's\n\nNB: We are using \"Snowflake managed\" for temporary storage. You may want to change this to S3.\n\nWhether the upsert process was an \"Insert\" or an \"Update\", only if the prior Salesforce Output component was successful, we would have the batch_id on the column \"CEC_API_Job_ID__c\" in Salesforce.","colour":"e6e63c"},"1233723":{"id":1233723,"x":-1530,"y":-340,"width":438,"height":233,"text":"Retrieve the MAX last update value and the current BATCH_ID (JOB_ID) from the INSTALL_BASE_PRE_SFDC table. \n\nThis table contains the delta to upsert. However, it does not yet contain any SFDC_IDs.\n\n******NB: At this point we are under the assumption that the INSTALL_BASE_PRE_SFDC, containing the delta, and the INSTALL_BASE_DELTA_LOG tables have been populated.****","colour":"e6e63c"}},"variables":{"jv_batch_id":{"definition":{"name":"jv_batch_id","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"0"},"jv_end_upsert":{"definition":{"name":"jv_end_upsert","type":"DATETIME","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"jv_max_last_update_ts":{"definition":{"name":"jv_max_last_update_ts","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"jv_message":{"definition":{"name":"jv_message","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"none"},"jv_object_name":{"definition":{"name":"jv_object_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"ASSET"},"jv_operation":{"definition":{"name":"jv_operation","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"OUTBOUND_FROM_SNOWFLAKE"},"jv_rowcount_upsert":{"definition":{"name":"jv_rowcount_upsert","type":"DECIMAL","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"0"},"jv_start_upsert":{"definition":{"name":"jv_start_upsert","type":"DATETIME","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"jv_status":{"definition":{"name":"jv_status","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""}},"grids":{}},"info":{"name":"ORIGNAL - 1) Outbound to SalesForce ASSET","description":"","type":"ORCHESTRATION","tag":"c297bcae-c914-4f80-a16d-b027821491c0"}}